{% extends "baseTemplate.html" %}
{% load static %}

{% block page_css %}
    <link rel="stylesheet" href="{% static 'css/equipment.css' %}">
{% endblock %}

{% block content %}
<h1 class="equipment-title">Equipment Inventory and Maintenance</h1>
<a href="{% url 'manage_page' %}">
    <button>Add Equipment and Vendors</button>
</a>
<a href="{% url 'problems_page' %}">
    <button>Report and Search Problems</button>
</a>
<div class="type-parent">
    <div class="type-left">Equipment Type:</div>
    <input class="type-input" type="text" placeholder="Type">
    <button class="type-button">SEARCH</button>
<!-- todo: Originally this was a dropdown, remove to text input?-->
 <!-- 
    <select class="type-dropdown">
        <option value="Stethoscope">Stethoscope</option>
        <option value="Gloves">Gloves</option>
        <option value="Thermometer">Thermometer</option>
    </select>
-->
</div>

<div class="search-parent">  
    <div class="vendor-background">
        <div class="vendor-title">Search By Vendor</div>
        <div class="vendor-input">
            <input class="vendor-id" type="text" placeholder="Vendor ID">
            <input class="vendor-name" type="text" placeholder="Vendor Name">
        </div>
        <button class="vendor-button">SEARCH</button>
    </div>

    <div class="inventory-background">
        <div class="inventory-title">Search by Inventory</div>
        <div class="inventory-interact">
            <form method="GET" action="{% url 'equipment' %}">
                <input class="inventory-id" type="text" name="equipmentid" placeholder="Equipment ID" value="{{ query }}">
                <input class="inventory-id" type="text" name="type" placeholder="Equipment Type" value="{{ query }}">
                <button class="inventory-button">SEARCH</button>
            </form>
        </div>
    </div>
</div>
<div class="search-parent">
    <div class="vendor-background">
        <h1>Add Equipment</h1>
        <form method="POST" action="">
            {% csrf_token %}
            <label for="equipmentid">Equipment ID:</label>
            <input type="text" name="equipmentid" id="equipmentid" required><br>
        
            <label for="type">Type:</label>
            <input type="text" name="type" id="type" required><br>
        
            <label for="description">Description:</label>
            <input type="text" name="description" id="description"><br>
        
            <label for="lease_terms">Lease Terms:</label>
            <input type="text" name="lease_terms" id="lease_terms"><br>
        
            <label for="departmentleased">Department Leased:</label>
            <input type="text" name="departmentleased" id="departmentleased"><br>
        
            <label for="owned_lease">Owned/Lease (O/L):</label>
            <input type="text" name="owned_lease" id="owned_lease"><br>
        
            <label for="purchasedate">Purchase Date:</label>
            <input type="date" name="purchasedate" id="purchasedate"><br>
        
            <label for="warenty_info">Warranty Info:</label>
            <input type="text" name="warenty_info" id="warenty_info"><br>
        
            <button type="submit">Add</button>
        </form>
    </div>
    
{% if results %}
    <h2>Equipment Details</h2>
    <ul>
        {% for item in results %}
            <li>
                <p><strong>Equipment ID:</strong> {{ item.equipmentid }}</p>
                <p><strong>Type:</strong> {{ item.type }}</p>
                <p><strong>Description:</strong> {{ item.description }}</p>
                <p><strong>Department:</strong> {{ item.departmentleased }}</p>
                <p><strong>Owned/Leased:</strong> {{ item.owned_lease }}</p>
                {% if item.purchasedate %}
                    <p><strong>Purchase Date:</strong> {{ item.purchasedate }}</p>
                {% endif %}
                {% if item.warenty_info %}
                    <p><strong>Warranty Info:</strong> {{ item.warenty_info }}</p>
                {% endif %}
                {% if item.lease_terms %}
                    <p><strong>Lease Terms:</strong> {{ item.lease_terms }}</p>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No equipment found.</p>
{% endif %}
</div>

{% endblock %}
