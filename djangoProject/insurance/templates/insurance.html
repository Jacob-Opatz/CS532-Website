{% extends "baseTemplate.html" %}
{% load static %}
{% block page_css %}
    <link rel="stylesheet" href="{% static 'css/insuranceForm.css' %}">
{% endblock %}

{% block content %}
<h1>Patient's Insurance Billing</h1>
<!-- Patient Search Form -->
<div class="flex-container">
    
    <div class="add_background">
        <form id="search-form">
        <div class="form-group">
            <h2>Patient Name</h2>
            <select id="patient-dropdown" onchange="updateSearchBox()">
                <option value="" selected disabled>Select a patient</option>
                
            </select>       
            <button type="button" onclick="searchPatient()">Search</button>

        </div>
    </form>
        <!-- Simulated Patient Details, shown after search -->
        <div id="patient-details" style="display: none;">
            <h2>Patient Details</h2>
            <table class="details-table">
                <tbody>
                    <tr>
                        <td><strong>Patient Name</strong></td>
                        <td>John Doe</td>
                    </tr>
                    <tr>
                        <td><strong>Date of Birth</strong></td>
                        <td>01/01/1990</td>
                    </tr>
                    <tr>
                        <td><strong>Insurance Number</strong></td>
                        <td>123456789</td>
                    </tr>
                    <tr>
                        <td><strong>Carrier Name</strong></td>
                        <td>City Community</td>
                    </tr>
                </tbody>
            </table>
        
            <h3>Billing Information</h3>
            <table class="details-table">
                <tbody>
                    <tr>
                        <td><strong>Invoice Number</strong></td>
                        <td>INV12345</td>
                    </tr>
                    <tr>
                        <td><strong>Invoice Date</strong></td>
                        <td>2024-11-24</td>
                    </tr>
                    <tr>
                        <td><strong>Service ID</strong></td>
                        <td>SVC12345</td>
                    </tr>
                    <tr>
                        <td><strong>Service Description</strong></td>
                        <td>Example service provided to patient</td>
                    </tr>
                    <tr>
                        <td><strong>Cost</strong></td>
                        <td>100.00</td>
                    </tr>
                    <tr>
                        <td><strong>Total Billed</strong></td>
                        <td>100.00</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
    const patients = ["John Doe"];
    const dropdown = document.getElementById("patient-dropdown");

    // Populate dropdown options
    patients.forEach(patient => {
        const option = document.createElement("option");
        option.value = patient;
        option.textContent = patient;
        dropdown.appendChild(option);
    });
});

function searchPatient() {
    const dropdown = document.getElementById("patient-dropdown");
    const selectedPatient = dropdown.value;

    if (selectedPatient) {
        
        document.getElementById("patient-details").style.display = "block";
    } else {
        alert("Please select a patient.");
    }
}

</script>

{% endblock %}
